subsystem = NFIRAOS
component = encl

publish {

    telemetry = [
    {
      name            = temperature
      description     = "Temperature values at verious locations inside and outside the optical enclosure."
      attributes      = [

        {
          name        = inside
          description = "Air temperture inside the optical enclosure."
          type        = double
          units        = C
        }

        {
          name        = outside
          description = "Air temperture outside the optical enclosure."
          type        = double
          units        = C
        }

	{
          name        = tablStub
          description = "The temperture of the TABL stub locations."
          type        = array
          dimensions: [3]
          items = {
             type = double
          }
          units = C
        }

        {
          name        = bulkhead
          description = "The temperture of the bulkhead."
          type        = double
          units        = C
        }

        {
          name        = auxAir
          description = "The temperture of the auxiliary air."
          type        = double
          units        = C
        }

        {
          name        = airBooster
          description = "The temperture of the air booster air."
          type        = double
          units        = C
        }

	{
          name        = panelColdPlate
          description = "The temperture of the cold plate inside the panels with two sensors each."
          type        = array
          dimensions: [58]
          items = {
             type = double
          }
          units = C
        }

	{
          name        = panelOuterSkin
          description = "The temperture of the panels outer skin."
          type        = array
          dimensions: [58]
          items = {
             type = double
          }
          units = C
        }

        {
          name        = panelInnerSkin
          description = "The temperture of the panels inner skin."
          type        = array
          dimensions: [58]
          items = {
             type = double
          }
          units = C
        }

        {
          name        = ahu
          description = "The temperture of the AHU thermocouples."
          type        = array
          dimensions: [7]
          items = {
             type = double
          }
          units = C
        }

        {
          name        = liquidDetection
          description = "The temperature of the liquid detection thermocouple inside each panel with two sensors each."
          type        = array
          dimensions: [58]
          items = {
             type = double
          }
          units = C
        }

        {
          name        = refrigerantReheater
          description = "The temperature at the refrigerant reheater thermocouples."
          type        = array
          dimensions: [2]
          items = {
             type = double
          }
          units = C
        }

      ]
    }

    {
      name            = pressure
      description     = "Pressure values at verious locations inside and outside the optical enclosure."
      attributes      = [

        {
          name        = differential
          description = "The differential pressure at the four sides of the enclosure."
          type        = array
          dimensions: [4]
          items = {
             type = double
          }
          units = Pa
        }

        {
          name        = refrigerantSupply
          description = "The pressure of the refrigerant supply."
          type        = double
          units        = Pa
        }

        {
          name        = refrigerantReturn
          description = "The pressure of the refrigerant return."
          type        = double
          units        = Pa
        }

        {
          name        = ahuRefrigerantReturn
          description = "The pressure of the AHU refrigerant return."
          type        = double
          units        = Pa
        }

        {
          name        = ahuDifferential
          description = "The differential pressure of the AHU."
          type        = double
          units        = Pa
        }

	{
          name        = panelRefrigerantReturn
          description = "The pressure of the panel refrigerant return."
          type        = double
          units        = Pa
        }

	{
          name        = componentRefrigerantReturn
          description = "The pressure of the refrigerant return for VCAM and the various components within the ENCL."
          type        = double
          units        = Pa
        }
      ]
    }

    {
      name            = airSpeed
      description     = "The air speed measured at different locations within the enclosure."
      attributes      = [

        {
          name        = ahu
          description = "The air speed within the AHU."
          type        = double
          units        = m/s
        }
      ]
    }

    {
      name            = switches
      description     = "The state of various switches within the enclosure."
      attributes      = [

        {
          name        = light
          description = "The light switch controlling the lights in the enclosure."
          type        = array
          dimensions: [2]
          items = {
             enum     = [ ON, OFF, UNKNOWN ]
          }
        }

        {
          name        = sideVestibuleLight
          description = "The light switch controlling the side vestibule lights."
          type        = array
          dimensions: [2]
          items = {
             enum     = [ ON, OFF, NOTCONNECTED, UNKNOWN ]
          }
        }

        {
          name        = sideVestibuleAhuFan
          description = "The switch controlling the side vestibule AHU fan."
          type        = array
          dimensions: [2]
          items = {
             enum     = [ ON, OFF, NOTCONNECTED, UNKNOWN ]
          }
        }

        {
          name        = sideVestibuleAirHose
          description = "The switch controlling the side vestibule air hose flow."
          enum     = [ ON, OFF, NOTCONNECTED, UNKNOWN ]
        }

        {
          name        = roofVestibuleAhuFan
          description = "The switch controlling the roof vestibule AHU fan."
          type        = array
          dimensions: [2]
          items = {
             enum     = [ ON, OFF, NOTCONNECTED, UNKNOWN ]
          }
        }

        {
          name        = roofVestibuleAirHose
          description = "The switch controlling the roof vestibule air hose flow."
          enum     = [ ON, OFF, NOTCONNECTED, UNKNOWN ]
        }
      ]
    }

    {
      name            = dewpoint
      description     = "The data from the dewpoint sensors of the optical enclosure."
      attributes      = [

        {
          name        = tabl
          description = "The dewpoint at the TABL."
          type        = double
          units       = C
        }

        {
          name        = tablTemperature
          description = "The temperature measured by the dewpoint sensor at the TABL."
          type        = double
          units       = C
        }

        {
          name        = tablHumidity
          description = "The humidity level measured by the dewpoint sensor at the TABL."
          type        = double
          units       = %
        }

        {
          name        = interior
          description = "The dewpoint in the interior of the optical enclosure."
          type        = double
          units       = C
        }

        {
          name        = interiorTemperature
          description = "The temperature measured by the dewpoint sensor in the interior of the optical enclosure."
          type        = double
          units       = C
        }

        {
          name        = interiorHumidity
          description = "The humidity level measured by the dewpoint sensor in the interior of the optical enclosure."
          type        = double
          units       = %
        }

	{
          name        = ahu
          description = "The dewpoint in the interior of the optical enclosure AHU."
          type        = double
          units       = C
        }

        {
          name        = ahuTemperature
          description = "The temperature measured by the dewpoint sensor in the interior of the optical enclosure AHU."
          type        = double
          units       = C
        }

        {
          name        = ahuHumidity
          description = "The humidity level measured by the dewpoint sensor in the interior of the optical enclosure AHU."
          type        = double
          units       = %
        }
      ]
    }

    {
      name            = doors
      description     = "The data from the dewpoint sensors of the optical enclosure."
      attributes      = [

        {
          name        = state
          description = "The state of the doors into the ENCL."
          type        = array
          dimensions: [2]
          items = {
             enum     = [ OPEN, CLOSED, UNKNOWN ]
          }
        }

	{
          name        = locked
          description = "Indicates if the door is locked or unlocked."
          type        = array
          dimensions: [2]
          items = {
             type     = boolean
          }
        }
      ]
    }
  ] 

  events = [
    
    {
      name            = state
      description     = ENCL assembly state
      attributes      = [
        {
          name        = cmd
          description = "ENCL assembly command state."
          enum        = [ UNINITIALIZED, READY, BUSY ]
        }
        {
          name        = refrigeration
      	  description = "Enclosure refrigeration status indicating what operational mode it is running under."
      	  enum        = [ COLD, COOLING, WARM, WARMING, ERROR, UNKNOWN ]
        }
        {
          name	      = accessibility
          description = "Current personnel accessibility level."
          enum        = [ ACCESSIBLE, RESTRICTED ]
        }
        {
          name	      = quiet
          description = "The optical enclosure is current running in quiet mode.  If true, no vibration activities are permitted."
          enum	      = [ TRUE, FALSE ]
        }
        {
          name        = standby
          description = "Standby indicates that the enclosure is running on a low power mode and is conserving electrical and cooling power."
          enum 	      = [ TRUE, FALSE ]
        }
      ]
    }
  ] 
  
  alarms = [
    {
      name = oxygen
      description = ENCL Assembly oxygen level alarm where oxygen levels are below acceptible levels.
      severity = major
      archive = true
    }
    {
      name = carbonDioxideLevel
      description = ENCL Assembly alarm for when carbon dioxide levels reach an unacceptible level.
      severity = major
      archive = true
    }
    {
      name = smoke
      description = ENCL Assembly smoke alarm
      severity = major
      archive = true
    }
    {
      name = humidity
      description = ENCL Assembly humidity level alarm.
      severity = major
      archive = true
    }
    {
      name = refrigerantLeak
      description = ENCL Assembly refrigerant leak alarm.
      severity = major
      archive = true
    }
    {
      name = pressure
      description = ENCL Assembly differential pressrue alarm.  The pressure inside the enclosure is less than the pressure outside of the enclosure.
      severity = major 
      archive = true
    }
    {
      name = temperatureTABLStub
      description = "ENCL Assembly for one of three Table Stub positions to indicate the temperature is dangerously close to the dew point."
      severity = major
      archive = true
    }
    {
      name = temperatureInstrumentPort
      description = "ENCL Assembly for one of three instrument port positions (p).  Where p is one of Top, Side, or Bottom."
      severity = major
      archive = true
    }
    {
      name = panelTemperatureOuterSkin
      description = "ENCL Assembly for one of the enclosure panel outer skins has reached a point where condensation may form."
      severity = major
      archive = true
    }
    {
      name = ahuTemperature
      description = "Air Handling Unit Temperature sensor alarm to indicate the temperature is dangerously close to the dew point."
      severity = major
      archive = true 
    }
    {
      name = ahuRelativeHumiditySensor
      description = "Air Handling Unit Humidity sensor alarms where the humidity is reaching an unacceptible level."
      severity = major
      archive = true
    }
  ]

}
